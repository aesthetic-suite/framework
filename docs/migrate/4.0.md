# 4.0 Migration

To support other frameworks besides React, and more advanced features, the following changes have
been made.

> This migration guide is not exhaustive and only includes large changes, so please refer to the
> [official changelog](https://github.com/milesj/aesthetic/blob/master/packages/core/CHANGELOG.md)
> for other changes.

## React utilites have moved to their own package

All React functionality and utilities have moved to the new `aesthetic-react` package. This
primarily includes the hook and HOC helpers.

```tsx
// Old
import React from 'react';
import aesthetic from './aesthetic';

function Button({ props, styles }) {
  return <button />;
}

export default aesthetic.withStyles(theme => ({
  button: {
    padding: theme.unit,
  },
}))(Button);
```

```tsx
// New
import React from 'react';
import { withStylesFactory } from 'aesthetic-react';
import aesthetic from './aesthetic';

const withStyles = withStylesFactory(aesthetic);

function Button({ props, styles }) {
  return <button />;
}

export default withStyles(theme => ({
  button: {
    padding: theme.unit,
  },
}))(Button);
```

This new factory pattern has been applied to all hooks and HOCs, so be sure to read the new
[React integration docs](../integrations/react.md).

## Renamed React types

The `WithStylesProps` and `WithThemeProps` interfaces were renamed to `WithStylesWrappedProps` and
`WithThemeWrappedProps` respectively. `WithStylesWrappedProps` also requires the native block type
to be passed from the adapter.

```ts
// Old
import {
  WithStylesProps as BaseWithStylesProps,
  WithThemeProps as BaseWithThemeProps,
} from 'aesthetic';
import { ParsedBlock } from 'aesthetic-adapter-aphrodite';
import { Theme } from './aesthetic';

export type WithStylesProps = BaseWithStylesProps<Theme, ParsedBlock>;
export type WithThemeProps = BaseWithThemeProps<Theme>;
```

```ts
// New
import { WithStylesWrappedProps, WithThemeWrappedProps } from 'aesthetic-react';
import { NativeBlock, ParsedBlock } from 'aesthetic-adapter-aphrodite';
import { Theme } from './aesthetic';

export type WithStylesProps = WithStylesWrappedProps<Theme, NativeBlock, ParsedBlock>;
export type WithThemeProps = WithThemeWrappedProps<Theme>;
```
