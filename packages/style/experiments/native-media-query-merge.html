<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<style type="text/css" id="style"></style>
	</head>
	<body>
		<script>
			// Will the same query be merged into a single rule?
			//    NO in Firefox, Chrome, Safari
			// Or will they be separate rules?
			//    YES in Firefox, Chrome, Safari

			const style = document.getElementById('style');
			const sheet = style.sheet;

			sheet.insertRule(
				'@media (max-width: 600px) { .a { display: block } }',
				sheet.cssRules.length,
			);

			sheet.insertRule(
				'@media (max-width: 600px) { .b { display: inline } }',
				sheet.cssRules.length,
			);

			console.log({ style, sheet });
		</script>
	</body>
</html>
